import{r as c}from"./index.Be8AcK8B.js";import{i as F,f as h,b as g,m as S,J as I,u as A,M as C,a as J,c as L,d as m}from"./MotionConfigContext.YvF8K3D-.js";function D(...t){const n=!Array.isArray(t[0]),e=n?0:-1,o=t[0+e],s=t[1+e],r=t[2+e],a=t[3+e],u=F(s,r,a);return n?u(o):u}function k(t,n){const e=g(t)?t.get():t,o=S(e);return M(o,t,n),o}function M(t,n,e){const o=t.get();let s=null,r=o,a;const u=typeof o=="string"?o.replace(/[\d.-]/g,""):void 0,f=()=>{s&&(s.stop(),s=null)},E=()=>{f(),s=new I({keyframes:[y(t.get()),y(r)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a})};if(t.attach((i,l)=>{r=i,a=p=>l(d(p,u)),h.postRender(E)},f),g(n)){const i=n.on("change",p=>t.set(d(p,u))),l=t.on("destroy",i);return()=>{i(),l()}}return f}function d(t,n){return n?t+n:t}function y(t){return typeof t=="number"?t:parseFloat(t)}function b(t){const n=A(()=>S(t)),{isStatic:e}=c.useContext(C);if(e){const[,o]=c.useState(t);c.useEffect(()=>n.on("change",o),[])}return n}function x(t,n){const e=b(n()),o=()=>e.set(n());return o(),J(()=>{const s=()=>h.preRender(o,!1,!0),r=t.map(a=>a.on("change",s));return()=>{r.forEach(a=>a()),L(o)}}),e}function N(t){m.current=[],t();const n=x(m.current,t);return m.current=void 0,n}function O(t,n,e,o){if(typeof t=="function")return N(t);const s=typeof n=="function"?n:D(n,e,o);return Array.isArray(t)?V(t,s):V([t],([r])=>s(r))}function V(t,n){const e=A(()=>[]);return x(t,()=>{e.length=0;const o=t.length;for(let s=0;s<o;s++)e[s]=t[s].get();return n(e)})}function w(t,n={}){const{isStatic:e}=c.useContext(C),o=()=>g(t)?t.get():t;if(e)return O(o);const s=b(o());return c.useInsertionEffect(()=>M(s,t,n),[s,JSON.stringify(n)]),s}export{O as a,x as b,b as c,M as d,k as s,D as t,w as u};

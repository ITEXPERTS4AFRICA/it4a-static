import{j as E}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.Be8AcK8B.js";const A=({children:R,className:S,theme:y,pointCount:k=180,maxDistance:z=180,minDistance:b=60,fadeSpeed:O=.02,lineOpacity:v=.15,pointSize:D=2,lightParticlesCount:$=30})=>{const p=c.useRef(null),[j,x]=c.useState(!0),a={pointCount:180,maxDistance:180,minDistance:60,fadeSpeed:.02,lineOpacity:.15,pointSize:2,lightParticlesCount:30,colors:{light:{background:"#d4d4d4",points:"#0a84c1",lines:"#000000",particles:"#f1ca13"},dark:{background:"#1d3446",points:"#e2e2e2",lines:"#0a84c1",particles:"#f1ca13"}}};a.pointCount=k,a.maxDistance=z,a.minDistance=b,a.fadeSpeed=O,a.lineOpacity=v,a.pointSize=D,a.lightParticlesCount=$;const h=c.useRef([]),M=c.useRef([]),m=c.useRef(null),w=c.useRef(0);c.useEffect(()=>{const e=p.current;if(!e)return;const o=e.getContext("2d");if(!o)return;const n=()=>{e.width=window.innerWidth,e.height=window.innerHeight,q(e),I()};return window.addEventListener("resize",n),n(),P(o,e),()=>{window.removeEventListener("resize",n),m.current&&cancelAnimationFrame(m.current)}},[]);const q=e=>{const o=[],n=Math.sqrt(a.pointCount),r=Math.sqrt(a.pointCount),t=e.width/r,s=e.height/n;for(let i=0;i<a.pointCount;i++){const d=i%r,f=Math.floor(i/r),l={x:(f%2===0?t/2:0)+d*t+(Math.random()-.5)*t*.4,y:f*s+(Math.random()-.5)*s*.4,opacity:Math.random(),targetOpacity:Math.random(),speed:.01+Math.random()*.03,connections:[]};o.push(l)}C(o),h.current=o},I=()=>{const e=[],o=y==="dark"?a.colors.dark:a.colors.light,n=[];if(h.current.forEach(r=>{r.connections.forEach(t=>{n.push({from:r,to:t})})}),n.length===0)return[];for(let r=0;r<a.lightParticlesCount;r++){const t=n[Math.floor(Math.random()*n.length)];e.push({path:t,position:Math.random(),speed:.002+Math.random()*.003,size:1.5+Math.random()*2,color:o.particles})}M.current=e},C=e=>{e.forEach(o=>o.connections=[]);for(let o=0;o<e.length;o++)for(let n=o+1;n<e.length;n++){const r=e[o].x-e[n].x,t=e[o].y-e[n].y,s=Math.sqrt(r*r+t*t);s<a.maxDistance&&s>a.minDistance&&e[o].connections.push(e[n])}},P=(e,o)=>{const n=y==="dark"?a.colors.dark:a.colors.light,r=Date.now();r-w.current>3e3&&(C(h.current),w.current=r),e.fillStyle=n.background,e.fillRect(0,0,o.width,o.height),h.current.forEach(t=>{Math.abs(t.opacity-t.targetOpacity)<.01&&(t.targetOpacity=Math.random()),t.opacity<t.targetOpacity?t.opacity=Math.min(t.opacity+t.speed,t.targetOpacity):t.opacity=Math.max(t.opacity-t.speed,t.targetOpacity),e.strokeStyle=`${n.lines}${Math.floor(a.lineOpacity*t.opacity*100)}`,e.lineWidth=.5,t.connections.forEach(s=>{s.opacity>.1&&(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(s.x,s.y),e.stroke())}),t.opacity>.1&&(e.fillStyle=`${n.points}${Math.floor(t.opacity*100)}`,e.beginPath(),e.arc(t.x,t.y,a.pointSize*t.opacity,0,Math.PI*2),e.fill())}),j&&M.current.forEach(t=>{if(t.position+=t.speed,t.position>1){t.position=0;const l=[];if(h.current.forEach(u=>{u.connections.forEach(T=>{l.push({from:u,to:T})})}),l.length>0){const u=l[Math.floor(Math.random()*l.length)];t.path=u}}const s=t.path.from,i=t.path.to,d=t.position,f=s.x+(i.x-s.x)*d,g=s.y+(i.y-s.y)*d;e.fillStyle=t.color,e.beginPath(),e.arc(f,g,t.size,0,Math.PI*2),e.fill(),e.fillStyle=`${t.color}33`,e.beginPath(),e.arc(f,g,t.size*3,0,Math.PI*2),e.fill()}),m.current=requestAnimationFrame(()=>P(e,o))};return E.jsxs("div",{className:`${S} inset-0 z-0 relative overflow-hidden`,children:[E.jsx("canvas",{ref:p,className:"w-full h-full absolute top-0 left-0 -z-1"}),R]})};export{A as default};

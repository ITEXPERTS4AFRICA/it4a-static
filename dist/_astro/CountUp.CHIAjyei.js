import{j as F}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.Be8AcK8B.js";import{c as N,u as j}from"./use-spring.Bb09hogg.js";import{u as C}from"./use-in-view.CihIgm6g.js";import"./MotionConfigContext.YvF8K3D-.js";function M({to:t,from:n=0,direction:u="up",delay:r=0,duration:s=2,className:w="",startWhen:g=!0,separator:i="",onStart:c,onEnd:m}){const e=o.useRef(null),f=N(u==="down"?t:n),I=20+40*(1/s),T=100*(1/s),x=j(f,{damping:I,stiffness:T}),l=C(e,{once:!0,margin:"0px"});return o.useEffect(()=>{e.current&&(e.current.textContent=String(u==="down"?t:n))},[n,t,u]),o.useEffect(()=>{if(l&&g){typeof c=="function"&&c();const p=setTimeout(()=>{f.set(u==="down"?n:t)},r*1e3),a=setTimeout(()=>{typeof m=="function"&&m()},r*1e3+s*1e3);return()=>{clearTimeout(p),clearTimeout(a)}}},[l,g,f,u,n,t,r,c,m,s]),o.useEffect(()=>{const p=x.on("change",a=>{if(e.current){const V={useGrouping:!!i,minimumFractionDigits:0,maximumFractionDigits:0},b=Intl.NumberFormat("en-US",V).format(Number(a.toFixed(0)));e.current.textContent=i?b.replace(/,/g,i):b}});return()=>p()},[x,i]),F.jsx("span",{className:`${w}`,ref:e})}export{M as default};
